import React from "react";
import "../style/header.css"
import { Link } from "react-router-dom";


const Header = (props) =>{

    const handleLogout = () => {
        props.setIsAuthenticated(false);
        localStorage.removeItem('isAuthenticated');
      };


    /* Search function*/
    const Search = (e) => {
        const text = e.target.value;
        props.onSearch(text);
    };


    /* If user is Authenticated show header with user information*/
    const renderButton = () =>{
        if(props.isAuthenticated){
            return(
                <div className='UserBlock'>
                    <div className="UserBarAuthen">

                        <div className="UserInfo">
                            <div>{props.username.name}</div>
                            <div style={{fontSize:'12px'}}>{props.username.email}</div>
                        </div>

                        <div className="exitButton" onClick={handleLogout}>
                            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_31_5)">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.75 23.4375C18.75 23.6861 18.6512 23.9246 18.4754 24.1004C18.2996 24.2762 18.0611 24.375 17.8125 24.375H2.8125C2.56386 24.375 2.3254 24.2762 2.14959 24.1004C1.97377 23.9246 1.875 23.6861 1.875 23.4375V6.5625C1.875 6.31386 1.97377 6.0754 2.14959 5.89959C2.3254 5.72377 2.56386 5.625 2.8125 5.625H17.8125C18.0611 5.625 18.2996 5.72377 18.4754 5.89959C18.6512 6.0754 18.75 6.31386 18.75 6.5625V10.3125C18.75 10.5611 18.8488 10.7996 19.0246 10.9754C19.2004 11.1512 19.4389 11.25 19.6875 11.25C19.9361 11.25 20.1746 11.1512 20.3504 10.9754C20.5262 10.7996 20.625 10.5611 20.625 10.3125V6.5625C20.625 5.81658 20.3287 5.10121 19.8012 4.57376C19.2738 4.04632 18.5584 3.75 17.8125 3.75H2.8125C2.06658 3.75 1.35121 4.04632 0.823762 4.57376C0.296316 5.10121 0 5.81658 0 6.5625L0 23.4375C0 24.1834 0.296316 24.8988 0.823762 25.4262C1.35121 25.9537 2.06658 26.25 2.8125 26.25H17.8125C18.5584 26.25 19.2738 25.9537 19.8012 25.4262C20.3287 24.8988 20.625 24.1834 20.625 23.4375V19.6875C20.625 19.4389 20.5262 19.2004 20.3504 19.0246C20.1746 18.8488 19.9361 18.75 19.6875 18.75C19.4389 18.75 19.2004 18.8488 19.0246 19.0246C18.8488 19.2004 18.75 19.4389 18.75 19.6875V23.4375Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M29.7263 15.6638C29.8136 15.5767 29.8828 15.4732 29.9301 15.3593C29.9773 15.2454 30.0017 15.1233 30.0017 15C30.0017 14.8767 29.9773 14.7546 29.9301 14.6407C29.8828 14.5268 29.8136 14.4233 29.7263 14.3363L24.1013 8.71125C23.9252 8.53521 23.6865 8.43632 23.4375 8.43632C23.1885 8.43632 22.9498 8.53521 22.7738 8.71125C22.5977 8.88729 22.4988 9.12605 22.4988 9.375C22.4988 9.62395 22.5977 9.86271 22.7738 10.0388L26.7994 14.0625H10.3125C10.0639 14.0625 9.8254 14.1613 9.64959 14.3371C9.47377 14.5129 9.375 14.7514 9.375 15C9.375 15.2486 9.47377 15.4871 9.64959 15.6629C9.8254 15.8387 10.0639 15.9375 10.3125 15.9375H26.7994L22.7738 19.9613C22.5977 20.1373 22.4988 20.376 22.4988 20.625C22.4988 20.874 22.5977 21.1127 22.7738 21.2888C22.9498 21.4648 23.1885 21.5637 23.4375 21.5637C23.6865 21.5637 23.9252 21.4648 24.1013 21.2888L29.7263 15.6638Z" fill="white"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_31_5">
                                        <rect width="30" height="30" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </div>

                    </div>
                </div>
            )
        }else return(
            <div className='UserBlock'>
                <div className='UserBarLogin'><Link className="UserBarLogin" to={props.register}>Register</Link></div>
                <div className='UserBarLogin'><Link className="UserBarLogin" to={props.login}>Login</Link></div>
            </div>
        )
    }
    return(
        <div className='headerBar'>

            <div className='Logo'>
                <img src="https://assets.stickpng.com/images/584830fecef1014c0b5e4aa2.png"/>
            </div>

            <div className='SearchBlock'>
                <div className='SearchBar'>
                    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2_50)">
                            <path d="M13.9435 12.2837C15.0934 10.7146 15.6084 8.76926 15.3855 6.83679C15.1627 4.90433 14.2183 3.12727 12.7415 1.86115C11.2647 0.595024 9.36425 -0.0667904 7.42041 0.00810897C5.47658 0.0830083 3.6327 0.889098 2.25768 2.26511C0.882652 3.64112 0.0778818 5.48557 0.00437335 7.42946C-0.0691351 9.37335 0.594039 11.2733 1.86122 12.7492C3.1284 14.2252 4.90613 15.1682 6.83876 15.3897C8.77138 15.6112 10.7164 15.0948 12.2846 13.9438H12.2834C12.319 13.9913 12.357 14.0364 12.3998 14.0804L16.9717 18.6522C17.1943 18.8751 17.4964 19.0003 17.8114 19.0004C18.1264 19.0005 18.4286 18.8755 18.6514 18.6528C18.8742 18.4302 18.9995 18.1281 18.9996 17.8131C18.9997 17.4981 18.8746 17.1959 18.652 16.9731L14.0801 12.4012C14.0377 12.3583 13.992 12.3198 13.9435 12.2837ZM14.2499 7.71893C14.2499 8.57663 14.081 9.42592 13.7528 10.2183C13.4245 11.0107 12.9434 11.7307 12.337 12.3372C11.7305 12.9437 11.0105 13.4248 10.2181 13.753C9.42566 14.0812 8.57637 14.2502 7.71867 14.2502C6.86098 14.2502 6.01168 14.0812 5.21927 13.753C4.42686 13.4248 3.70686 12.9437 3.10038 12.3372C2.4939 11.7307 2.01281 11.0107 1.68458 10.2183C1.35636 9.42592 1.18742 8.57663 1.18742 7.71893C1.18742 5.98674 1.87553 4.32549 3.10038 3.10064C4.32523 1.87579 5.98648 1.18768 7.71867 1.18768C9.45087 1.18768 11.1121 1.87579 12.337 3.10064C13.5618 4.32549 14.2499 5.98674 14.2499 7.71893Z" fill="#585C65"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_2_50">
                                <rect width="19" height="19" fill="white"/>
                            </clipPath>
                        </defs>
                    </svg>
                    <input type="text" placeholder='Search' onChange={Search}/>
                </div>
            </div>

            <div className='ThemeBlock'>
                <div className='Theme'>

                    <div className='Light'>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_2_46)">
                                <path d="M12 16.5C10.8065 16.5 9.66193 16.0259 8.81802 15.182C7.97411 14.3381 7.5 13.1935 7.5 12C7.5 10.8065 7.97411 9.66193 8.81802 8.81802C9.66193 7.97411 10.8065 7.5 12 7.5C13.1935 7.5 14.3381 7.97411 15.182 8.81802C16.0259 9.66193 16.5 10.8065 16.5 12C16.5 13.1935 16.0259 14.3381 15.182 15.182C14.3381 16.0259 13.1935 16.5 12 16.5ZM12 18C13.5913 18 15.1174 17.3679 16.2426 16.2426C17.3679 15.1174 18 13.5913 18 12C18 10.4087 17.3679 8.88258 16.2426 7.75736C15.1174 6.63214 13.5913 6 12 6C10.4087 6 8.88258 6.63214 7.75736 7.75736C6.63214 8.88258 6 10.4087 6 12C6 13.5913 6.63214 15.1174 7.75736 16.2426C8.88258 17.3679 10.4087 18 12 18ZM12 0C12.1989 0 12.3897 0.0790176 12.5303 0.21967C12.671 0.360322 12.75 0.551088 12.75 0.75V3.75C12.75 3.94891 12.671 4.13968 12.5303 4.28033C12.3897 4.42098 12.1989 4.5 12 4.5C11.8011 4.5 11.6103 4.42098 11.4697 4.28033C11.329 4.13968 11.25 3.94891 11.25 3.75V0.75C11.25 0.551088 11.329 0.360322 11.4697 0.21967C11.6103 0.0790176 11.8011 0 12 0ZM12 19.5C12.1989 19.5 12.3897 19.579 12.5303 19.7197C12.671 19.8603 12.75 20.0511 12.75 20.25V23.25C12.75 23.4489 12.671 23.6397 12.5303 23.7803C12.3897 23.921 12.1989 24 12 24C11.8011 24 11.6103 23.921 11.4697 23.7803C11.329 23.6397 11.25 23.4489 11.25 23.25V20.25C11.25 20.0511 11.329 19.8603 11.4697 19.7197C11.6103 19.579 11.8011 19.5 12 19.5ZM24 12C24 12.1989 23.921 12.3897 23.7803 12.5303C23.6397 12.671 23.4489 12.75 23.25 12.75H20.25C20.0511 12.75 19.8603 12.671 19.7197 12.5303C19.579 12.3897 19.5 12.1989 19.5 12C19.5 11.8011 19.579 11.6103 19.7197 11.4697C19.8603 11.329 20.0511 11.25 20.25 11.25H23.25C23.4489 11.25 23.6397 11.329 23.7803 11.4697C23.921 11.6103 24 11.8011 24 12ZM4.5 12C4.5 12.1989 4.42098 12.3897 4.28033 12.5303C4.13968 12.671 3.94891 12.75 3.75 12.75H0.75C0.551088 12.75 0.360322 12.671 0.21967 12.5303C0.0790176 12.3897 0 12.1989 0 12C0 11.8011 0.0790176 11.6103 0.21967 11.4697C0.360322 11.329 0.551088 11.25 0.75 11.25H3.75C3.94891 11.25 4.13968 11.329 4.28033 11.4697C4.42098 11.6103 4.5 11.8011 4.5 12ZM20.4855 3.5145C20.6261 3.65515 20.7051 3.84588 20.7051 4.04475C20.7051 4.24362 20.6261 4.43435 20.4855 4.575L18.3645 6.6975C18.2948 6.76713 18.212 6.82235 18.1209 6.86C18.0299 6.89765 17.9323 6.91699 17.8337 6.91692C17.6347 6.91678 17.4439 6.83758 17.3032 6.69675C17.2336 6.62702 17.1784 6.54425 17.1408 6.45318C17.1031 6.36211 17.0838 6.26452 17.0838 6.16597C17.084 5.96695 17.1632 5.77613 17.304 5.6355L19.425 3.5145C19.5656 3.3739 19.7564 3.29491 19.9552 3.29491C20.1541 3.29491 20.3449 3.3739 20.4855 3.5145ZM6.696 17.304C6.8366 17.4446 6.91559 17.6354 6.91559 17.8342C6.91559 18.0331 6.8366 18.2239 6.696 18.3645L4.575 20.4855C4.43355 20.6221 4.2441 20.6977 4.04745 20.696C3.8508 20.6943 3.66269 20.6154 3.52364 20.4764C3.38458 20.3373 3.3057 20.1492 3.30399 19.9526C3.30229 19.7559 3.37788 19.5665 3.5145 19.425L5.6355 17.304C5.77615 17.1634 5.96688 17.0844 6.16575 17.0844C6.36462 17.0844 6.55535 17.1634 6.696 17.304ZM20.4855 20.4855C20.3449 20.6261 20.1541 20.7051 19.9552 20.7051C19.7564 20.7051 19.5656 20.6261 19.425 20.4855L17.304 18.3645C17.1674 18.223 17.0918 18.0336 17.0935 17.8369C17.0952 17.6403 17.1741 17.4522 17.3131 17.3131C17.4522 17.1741 17.6403 17.0952 17.8369 17.0935C18.0336 17.0918 18.223 17.1674 18.3645 17.304L20.4855 19.425C20.6261 19.5656 20.7051 19.7564 20.7051 19.9552C20.7051 20.1541 20.6261 20.3449 20.4855 20.4855ZM6.696 6.6975C6.55535 6.8381 6.36462 6.91709 6.16575 6.91709C5.96688 6.91709 5.77615 6.8381 5.6355 6.6975L3.5145 4.575C3.44287 4.50582 3.38573 4.42306 3.34642 4.33155C3.30712 4.24005 3.28643 4.14164 3.28556 4.04205C3.2847 3.94247 3.30367 3.84371 3.34138 3.75153C3.37909 3.65936 3.43478 3.57562 3.5052 3.5052C3.57562 3.43478 3.65936 3.37909 3.75153 3.34138C3.84371 3.30367 3.94247 3.2847 4.04205 3.28556C4.14164 3.28643 4.24005 3.30712 4.33155 3.34642C4.42306 3.38573 4.50582 3.44287 4.575 3.5145L6.696 5.6355C6.76585 5.70517 6.82126 5.78793 6.85907 5.87905C6.89688 5.97017 6.91634 6.06785 6.91634 6.1665C6.91634 6.26515 6.89688 6.36283 6.85907 6.45395C6.82126 6.54507 6.76585 6.62783 6.696 6.6975Z"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_2_46">
                                    <rect width="24" height="24"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>

                    <div className='Dark'>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_2_42)">
                                <path d="M10.5 12C11.1964 11.9999 11.8859 12.1384 12.5283 12.4074C13.1707 12.6764 13.7532 13.0705 14.2418 13.5668C14.7304 14.063 15.1153 14.6516 15.3743 15.2981C15.6332 15.9446 15.7609 16.6362 15.75 17.3325C15.7482 17.448 15.773 17.5623 15.8226 17.6666C15.8722 17.7708 15.9453 17.8622 16.036 17.9337C16.1267 18.0051 16.2327 18.0546 16.3457 18.0783C16.4587 18.1021 16.5757 18.0994 16.6875 18.0705C17.02 17.9856 17.3675 17.9777 17.7035 18.0474C18.0395 18.1171 18.3552 18.2626 18.6265 18.4728C18.8977 18.683 19.1174 18.9524 19.2688 19.2604C19.4202 19.5684 19.4992 19.9068 19.5 20.25C19.5 20.8467 19.2629 21.419 18.841 21.841C18.419 22.263 17.8467 22.5 17.25 22.5H4.49998C4.10114 22.4978 3.70674 22.416 3.33987 22.2595C2.973 22.103 2.64102 21.8749 2.36334 21.5886C2.08567 21.3023 1.86787 20.9635 1.7227 20.592C1.57753 20.2205 1.50789 19.8238 1.51787 19.425C1.52784 19.0263 1.61722 18.6336 1.78078 18.2698C1.94435 17.906 2.17881 17.5785 2.47045 17.3064C2.76209 17.0344 3.10506 16.8232 3.4793 16.6852C3.85354 16.5473 4.25152 16.4853 4.64998 16.503C4.82257 16.5116 4.99281 16.4602 5.13192 16.3578C5.27104 16.2553 5.3705 16.1079 5.41348 15.9405C5.7045 14.8127 6.36207 13.8137 7.28282 13.1004C8.20357 12.3871 9.33527 12 10.5 12ZM17.2095 16.5C17.0407 14.9792 16.3603 13.5609 15.2797 12.4776C14.1991 11.3942 12.7825 10.7102 11.2621 10.5376C9.74176 10.365 8.20786 10.714 6.91191 11.5275C5.61597 12.3411 4.63487 13.5708 4.12948 15.015C2.97139 15.1098 1.89486 15.6489 1.12523 16.5194C0.355598 17.3899 -0.0474667 18.5244 0.000406552 19.6854C0.0482799 20.8464 0.54338 21.9438 1.38207 22.7481C2.22076 23.5523 3.33802 24.0009 4.49998 24H17.25C18.2445 24 19.1984 23.6049 19.9016 22.9017C20.6049 22.1984 21 21.2446 21 20.25C21 19.2555 20.6049 18.3016 19.9016 17.5984C19.1984 16.8951 18.2445 16.5 17.25 16.5H17.2095Z"/>
                                <path d="M16.929 2.66701C17.0152 2.538 17.0593 2.38542 17.0551 2.2303C17.051 2.07519 16.9988 1.92518 16.9059 1.80094C16.8129 1.67671 16.6837 1.58437 16.536 1.53665C16.3884 1.48893 16.2296 1.48818 16.0815 1.53451C14.5284 2.0209 13.1975 3.04117 12.3245 4.41468C11.4514 5.78819 11.0926 7.42632 11.3115 9.03901C11.848 9.09118 12.3781 9.19619 12.894 9.35251C12.6624 8.36536 12.7131 7.33297 13.0404 6.3733C13.3677 5.41362 13.9584 4.56539 14.745 3.92551C14.4852 4.92724 14.4544 5.97463 14.6549 6.98989C14.8554 8.00515 15.2821 8.9622 15.9032 9.78996C16.5243 10.6177 17.3239 11.2949 18.2426 11.7713C19.1613 12.2476 20.1756 12.5109 21.21 12.5415C20.227 13.2247 19.0437 13.5595 17.8485 13.4925C18.0915 13.968 18.291 14.4705 18.4395 14.9925C19.5225 14.9464 20.5793 14.6452 21.5239 14.1135C22.4685 13.5817 23.2742 12.8345 23.8755 11.9325C23.9617 11.8035 24.0058 11.6509 24.0016 11.4958C23.9975 11.3407 23.9453 11.1907 23.8524 11.0664C23.7594 10.9422 23.6302 10.8499 23.4825 10.8021C23.3349 10.7544 23.1761 10.7537 23.028 10.8C21.964 11.134 20.8227 11.1297 19.7613 10.7877C18.6999 10.4458 17.7707 9.78302 17.1018 8.89081C16.4329 7.99859 16.0572 6.92085 16.0265 5.80615C15.9958 4.69144 16.3101 3.59467 16.929 2.66701Z"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_2_42">
                                    <rect width="24" height="24"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>

                </div>
            </div>

            <div className='line'></div>
                {renderButton()}
        </div>
    )
}
export default Header;